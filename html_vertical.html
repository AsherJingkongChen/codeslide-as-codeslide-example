<!DOCTYPE HTML>
<html class="hljs">
<head>
  <meta
    name="viewport"
    charset="utf-8"
    content="width=device-width, initial-scale=1, user-scalable=no">
  <style>
pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
Retrieved from https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark-dimmed.min.css

Theme: GitHub Dark Dimmed
Description: Dark dimmed theme as seen on github.com
Author: github.com
Maintainer: @Hirse
Updated: 2021-05-15

Colors taken from GitHub's CSS
*/.hljs{color:#adbac7;background:#22272e}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#f47067}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#dcbdfb}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#6cb6ff}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#96d0ff}.hljs-built_in,.hljs-symbol{color:#f69d50}.hljs-code,.hljs-comment,.hljs-formula{color:#768390}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#8ddb8c}.hljs-subst{color:#adbac7}.hljs-section{color:#316dca;font-weight:700}.hljs-bullet{color:#eac55f}.hljs-emphasis{color:#adbac7;font-style:italic}.hljs-strong{color:#adbac7;font-weight:700}.hljs-addition{color:#b4f1b4;background-color:#1b4721}.hljs-deletion{color:#ffd8d3;background-color:#78191b}
a{color:#2f81f7}

/*! CodeSlide slides.vertical.css */
html, body {
  margin: 0;
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  overflow: hidden;
  overscroll-behavior: none;
}
pre {
  margin: 0;
  white-space: pre-wrap;
  word-break: break-word;
}
p:empty {
  display: none;
}
#slides {
  display: flex;
  flex-direction: column;
  position: absolute; /* fix height on mobile */
  width: 100vw;
  height: 100vh;
  overflow-y: scroll;
  scroll-behavior: smooth;
}
.slide {
  padding: 1em 2em;
}
@page {
  margin: 0;
  size: auto;
}
@media print {
  #slides {
    width: auto;
    height: auto;
  }
}

@font-face {
  font-family: 'Noto Sans Mono';
  font-style: normal;
  font-weight: 400;
  font-stretch: normal;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/notosansmono/v26/BngrUXNETWXI6LwhGYvaxZikqZqK6fBq6kPvUce2oAZcdthSBUsYck4-_FNJ49o.ttf) format('truetype');
}
@font-face {
  font-family: 'Noto Sans Mono';
  font-style: normal;
  font-weight: 700;
  font-stretch: normal;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/notosansmono/v26/BngrUXNETWXI6LwhGYvaxZikqZqK6fBq6kPvUce2oAZcdthSBUsYck4-_LRO49o.ttf) format('truetype');
}

.hljs, code { font-family: Noto Sans Mono, ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace; }
#slides { font-size: large; }
#slides { font-weight: normal; }
  </style>
</head>
<body class="hljs">
  <div id="slides">
  <div class="slide" id="_0">
    <h1 id="the-introduction-of-codeslide">The Introduction of CodeSlide</h1>
  </div>
  <div class="slide" id="_1">
    <hr>
    <p><h1 id="codeslide">CodeSlide</h1>
<p><a href="https://www.npmjs.com/package/codeslide-cli?activeTab=readme"><img src="https://img.shields.io/npm/v/codeslide-cli?color=%230647D4&label=npm%3Acodeslide-cli&style=flat-square" alt=""></a></p>
<h2 id="features">Features</h2>
<ul>
<li>CodeSlide makes a slideshow for code snippets</li>
<li>Its applications:<ul>
<li><a href="https://github.com/AsherJingkongChen/codeslide/tree/main/applications/cli">CodeSlide CLI</a></li>
</ul>
</li>
</ul>
<h2 id="dependencies">Dependencies</h2>
<ul>
<li>It uses <a href="https://github.com/evanw/esbuild">esbuild</a> as module bundler</li>
<li>It uses <a href="https://github.com/tj/commander.js">Commander.js</a> as CLI framework</li>
<li>It uses <a href="https://github.com/eta-dev/eta">Eta</a> as HTML template engine</li>
<li>It uses <a href="https://github.com/highlightjs/highlight.js">Highlight.js</a> as syntax highlighter</li>
<li>It uses <a href="https://github.com/node-fetch/node-fetch">Node Fetch</a> as resource fetcher</li>
<li>It uses <a href="https://github.com/puppeteer/puppeteer">Puppeteer</a> as PDF printer</li>
<li>It uses <a href="https://www.typescriptlang.org/">TypeScript</a> as the main programming language</li>
<li>It uses <a href="https://github.com/colinhacks/zod">Zod</a> as JSON schema validator</li>
</ul>
<h2 id="documents">Documents</h2>
<ul>
<li>See <a href="https://github.com/AsherJingkongChen/codeslide/blob/main/docs/REFERENCE.md">Reference</a> for more usage information</li>
<li>See <a href="https://github.com/AsherJingkongChen/codeslide/blob/main/docs/CHANGELOG.md">Change Log</a> for more version information</li>
</ul>
<h2 id="creator">Creator</h2>
<ul>
<li><a href="https://github.com/AsherJingkongChen">AsherJingkongChen</a></li>
</ul>
</p>
  </div>
  <div class="slide" id="_2">
    <hr>
    <h1 id="the-abstract-process">The abstract process</h1>
<ol>
<li>Build a <strong>Renderer</strong> form</li>
<li>Render the HTML template and CSS with the built renderer</li>
<li>Print thet slideshow to the output</li>
</ol>
  </div>
  <div class="slide" id="_3">
    <hr>
    <h1 id="build-a-renderer-form">Build a Renderer form</h1>
<p><pre><code class="language-ts hljs"><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./format&#x27;</span>;
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./layout&#x27;</span>;
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./pagesize&#x27;</span>;
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./renderer&#x27;</span>;
</code></pre></p>
<h2 id="renderer">Renderer</h2>
<p><pre><code class="language-ts hljs"><span class="hljs-keyword">import</span> { z } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;zod&#x27;</span>;
<span class="hljs-keyword">import</span> { isFormat } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./format&#x27;</span>;
<span class="hljs-keyword">import</span> { isLayout } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./layout&#x27;</span>;
<span class="hljs-keyword">import</span> { isPagesize } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./pagesize&#x27;</span>;
<span class="hljs-keyword">import</span> { render <span class="hljs-keyword">as</span> renderEta } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;eta&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Stylesheets</span>, <span class="hljs-title class_">Template</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./slides&#x27;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Renderer</span> = z.<span class="hljs-property">infer</span>&lt;<span class="hljs-keyword">typeof</span> _Renderer&gt;;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">namespace</span> <span class="hljs-title class_">Renderer</span> {
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> parse = (
    <span class="hljs-attr">raw</span>: <span class="hljs-built_in">object</span>
  ): <span class="hljs-function"><span class="hljs-params">Renderer</span> =&gt;</span> _Renderer.<span class="hljs-title function_">parse</span>(raw);

  <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> render = (
    <span class="hljs-attr">renderer</span>: <span class="hljs-title class_">Renderer</span>
  ): <span class="hljs-function"><span class="hljs-params">string</span> =&gt;</span> <span class="hljs-title function_">renderEta</span>(
    <span class="hljs-title class_">Template</span>,
    {
      <span class="hljs-attr">layout</span>: renderer.<span class="hljs-property">layout</span>,
      <span class="hljs-attr">slides</span>: renderer.<span class="hljs-property">slides</span>,
      <span class="hljs-attr">style</span>: <span class="hljs-string">`\
&lt;style&gt;
<span class="hljs-subst">${
  [
    Stylesheets[<span class="hljs-string">&#x27;github&#x27;</span>],
    Stylesheets[renderer.layout],
    ...renderer.styles,
    <span class="hljs-string">`.hljs, code { font-family: <span class="hljs-subst">${renderer.fontFamily}</span>; }`</span>,
    <span class="hljs-string">`#slides { font-size: <span class="hljs-subst">${renderer.fontSize}</span>; }`</span>,
    <span class="hljs-string">`#slides { font-weight: <span class="hljs-subst">${renderer.fontWeight}</span>; }`</span>,
  ].join(<span class="hljs-string">&#x27;\n&#x27;</span>)
}</span>
  &lt;/style&gt;`</span>,
    },
    {
      <span class="hljs-attr">autoTrim</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">tags</span>: [<span class="hljs-string">&#x27;{%&#x27;</span>, <span class="hljs-string">&#x27;%}&#x27;</span>],
    }
  );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> _Renderer = z.<span class="hljs-title function_">object</span>({
  <span class="hljs-attr">fontFamily</span>: z
    .<span class="hljs-title function_">string</span>()
    .<span class="hljs-title function_">default</span>(<span class="hljs-string">&#x27;&#x27;</span>)
    .<span class="hljs-title function_">transform</span>(<span class="hljs-function">(<span class="hljs-params">arg</span>) =&gt;</span> <span class="hljs-string">`\
<span class="hljs-subst">${arg ? <span class="hljs-string">`<span class="hljs-subst">${arg}</span>, `</span> : <span class="hljs-string">&#x27;&#x27;</span>}</span>ui-monospace, SFMono-Regular, \
SF Mono, Menlo, Consolas, Liberation Mono, monospace`</span>
    ),
  <span class="hljs-attr">fontSize</span>: z
    .<span class="hljs-title function_">string</span>()
    .<span class="hljs-title function_">default</span>(<span class="hljs-string">&#x27;large&#x27;</span>),
  <span class="hljs-attr">fontWeight</span>: z
    .<span class="hljs-title function_">string</span>()
    .<span class="hljs-title function_">default</span>(<span class="hljs-string">&#x27;normal&#x27;</span>),
  <span class="hljs-attr">format</span>: z
    .<span class="hljs-title function_">string</span>()
    .<span class="hljs-title function_">refine</span>(isFormat)
    .<span class="hljs-title function_">default</span>(<span class="hljs-string">&#x27;html&#x27;</span>),
  <span class="hljs-attr">layout</span>: z
    .<span class="hljs-title function_">string</span>()
    .<span class="hljs-title function_">refine</span>(isLayout)
    .<span class="hljs-title function_">default</span>(<span class="hljs-string">&#x27;horizontal&#x27;</span>),
  <span class="hljs-attr">pagesize</span>: z
    .<span class="hljs-title function_">string</span>()
    .<span class="hljs-title function_">refine</span>(isPagesize)
    .<span class="hljs-title function_">default</span>(<span class="hljs-string">&#x27;a4&#x27;</span>),
  <span class="hljs-attr">slides</span>: z
    .<span class="hljs-title function_">array</span>(z.<span class="hljs-title function_">string</span>())
    .<span class="hljs-title function_">default</span>([]),
  <span class="hljs-attr">styles</span>: z
    .<span class="hljs-title function_">array</span>(z.<span class="hljs-title function_">string</span>())
    .<span class="hljs-title function_">default</span>([]),
})
.<span class="hljs-title function_">transform</span>(<span class="hljs-function">(<span class="hljs-params">arg</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (
    arg.<span class="hljs-property">layout</span> === <span class="hljs-string">&#x27;horizontal&#x27;</span> &amp;&amp;
    arg.<span class="hljs-property">format</span> === <span class="hljs-string">&#x27;pdf&#x27;</span>
  ) {
    arg.<span class="hljs-property">layout</span> = <span class="hljs-string">&#x27;vertical&#x27;</span>;
  }
  <span class="hljs-keyword">return</span> arg;
});
</code></pre></p>
  </div>
  <div class="slide" id="_4">
    <hr>
    <h1 id="build-a-renderer-form-1">Build a Renderer form</h1>
<h2 id="enumerations-of-fields">Enumerations of fields</h2>
<ul>
<li><p>Export slideshow file as HTML or PDF format
<pre><code class="language-ts hljs"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Format</span> = keyof <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Format</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">Format</span> = {
  <span class="hljs-attr">html</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">pdf</span>: <span class="hljs-literal">true</span>,
} <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> isFormat = (
  <span class="hljs-attr">raw</span>: <span class="hljs-built_in">string</span>
): raw is <span class="hljs-title class_">Format</span> =&gt; raw <span class="hljs-keyword">in</span> <span class="hljs-title class_">Format</span>;
</code></pre></p>
</li>
<li><p>Specify page size for PDF format
<pre><code class="language-ts hljs"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Pagesize</span> = keyof <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Pagesize</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">Pagesize</span> = {
  <span class="hljs-attr">letter</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">legal</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">tabloid</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">ledger</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">a0</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">a1</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">a2</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">a3</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">a4</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">a5</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">a6</span>: <span class="hljs-literal">true</span>,
} <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> isPagesize = (
  <span class="hljs-attr">raw</span>: <span class="hljs-built_in">string</span>
): raw is <span class="hljs-title class_">Pagesize</span> =&gt; raw <span class="hljs-keyword">in</span> <span class="hljs-title class_">Pagesize</span>;
</code></pre></p>
</li>
<li><p>Present the slideshow in horizontal or vertical layout
<pre><code class="language-ts hljs"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Layout</span> = keyof <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Layout</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">Layout</span> = {
  <span class="hljs-string">&#x27;horizontal&#x27;</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-string">&#x27;vertical&#x27;</span>: <span class="hljs-literal">true</span>,
} <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> isLayout = (
  <span class="hljs-attr">raw</span>: <span class="hljs-built_in">string</span>
): raw is <span class="hljs-title class_">Layout</span> =&gt; raw <span class="hljs-keyword">in</span> <span class="hljs-title class_">Layout</span>;
</code></pre></p>
</li>
</ul>
  </div>
  <div class="slide" id="_5">
    <hr>
    <h1 id="the-html-template">The HTML template</h1>
<p>CodeSlide uses <a href="https://github.com/eta-dev/eta">Eta</a> to render
{% and %} are interpolation symbols</p>
<p><pre><code class="language-html hljs"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">HTML</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;hljs&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span>
    <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span>
    <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>
    <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1, user-scalable=no&quot;</span>&gt;</span>
  {%~ it.style %}
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;hljs&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;slides&quot;</span>&gt;</span>
{%_ for (const [index, slide] of it.slides.entries()) { %}
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;slide&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;_{%~ index %}&quot;</span>&gt;</span>
  {%_ if (index !== 0 &amp;&amp; it.layout === &#x27;vertical&#x27;) { %}
    <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span>
  {%_ } %}
    {%~ slide %}
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
{%_ } %}
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre></p>
  </div>
  <div class="slide" id="_6">
    <hr>
    <h1 id="css-horizontal-layout">CSS (Horizontal layout)</h1>
<p><pre><code class="language-css hljs"><span class="hljs-comment">/*! CodeSlide slides.horizontal.css */</span>
<span class="hljs-selector-tag">html</span>, <span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  -webkit-print-<span class="hljs-attribute">color</span>-adjust: exact;
  print-<span class="hljs-attribute">color</span>-adjust: exact;
  <span class="hljs-attribute">overflow</span>: hidden;
  overscroll-behavior: none;
  <span class="hljs-attribute">scrollbar-width</span>: none;
}
<span class="hljs-selector-tag">body</span>::-webkit-scrollbar {
  <span class="hljs-attribute">display</span>: none;
}
pre {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">white-space</span>: pre-wrap;
  <span class="hljs-attribute">word-break</span>: break-word;
}
<span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">:empty</span> {
  <span class="hljs-attribute">display</span>: none;
}
<span class="hljs-selector-id">#slides</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: row;
  <span class="hljs-attribute">position</span>: absolute; <span class="hljs-comment">/* fix height on mobile */</span>
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100vw</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;
  <span class="hljs-attribute">overflow-x</span>: scroll;
  scroll-behavior: smooth;
  <span class="hljs-attribute">scroll-snap-type</span>: x mandatory;
}
<span class="hljs-selector-class">.slide</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  <span class="hljs-attribute">min-width</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100vw</span> - <span class="hljs-number">4em</span>);
  <span class="hljs-attribute">height</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100vh</span> - <span class="hljs-number">2em</span>);
  <span class="hljs-attribute">overflow-y</span>: scroll;
  <span class="hljs-attribute">scroll-snap-align</span>: start;
  <span class="hljs-attribute">scroll-snap-stop</span>: always;
  <span class="hljs-attribute">scrollbar-width</span>: none;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">1em</span> <span class="hljs-number">2em</span>;
}
<span class="hljs-keyword">@media</span> <span class="hljs-keyword">only</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">768px</span>) {
  <span class="hljs-selector-class">.slide</span> {
    <span class="hljs-attribute">height</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100</span>dvh - <span class="hljs-number">2em</span>);
  }
}
<span class="hljs-selector-class">.slide</span>::-webkit-scrollbar {
  <span class="hljs-attribute">display</span>: none;
}
<span class="hljs-keyword">@page</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  size: auto;
}
<span class="hljs-keyword">@media</span> print {
  <span class="hljs-selector-id">#slides</span> {
    <span class="hljs-attribute">width</span>: auto;
    <span class="hljs-attribute">height</span>: auto;
  }
}
</code></pre></p>
  </div>
  <div class="slide" id="_7">
    <hr>
    <h1 id="css-vertical-layout">CSS (Vertical layout)</h1>
<p><pre><code class="language-css hljs"><span class="hljs-comment">/*! CodeSlide slides.vertical.css */</span>
<span class="hljs-selector-tag">html</span>, <span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  -webkit-print-<span class="hljs-attribute">color</span>-adjust: exact;
  print-<span class="hljs-attribute">color</span>-adjust: exact;
  <span class="hljs-attribute">overflow</span>: hidden;
  overscroll-behavior: none;
}
pre {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">white-space</span>: pre-wrap;
  <span class="hljs-attribute">word-break</span>: break-word;
}
<span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">:empty</span> {
  <span class="hljs-attribute">display</span>: none;
}
<span class="hljs-selector-id">#slides</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  <span class="hljs-attribute">position</span>: absolute; <span class="hljs-comment">/* fix height on mobile */</span>
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100vw</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;
  <span class="hljs-attribute">overflow-y</span>: scroll;
  scroll-behavior: smooth;
}
<span class="hljs-selector-class">.slide</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">1em</span> <span class="hljs-number">2em</span>;
}
<span class="hljs-keyword">@page</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  size: auto;
}
<span class="hljs-keyword">@media</span> print {
  <span class="hljs-selector-id">#slides</span> {
    <span class="hljs-attribute">width</span>: auto;
    <span class="hljs-attribute">height</span>: auto;
  }
}
</code></pre></p>
  </div>
  <div class="slide" id="_8">
    <hr>
    <h1 id="the-html-template-and-css-are-imported-as-text-in-the-program">The HTML template and CSS are imported as text in the program</h1>
<p><pre><code class="language-ts hljs"><span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">&#x27;*.css&#x27;</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">_</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> _;
}
<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">&#x27;*.html&#x27;</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">_</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> _;
}
</code></pre>
<pre><code class="language-ts hljs"><span class="hljs-keyword">import</span> <span class="hljs-title class_">GithubDarkDimmed</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./github-dark-dimmed.css&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">HorizontalStylesheet</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./slides.horizontal.css&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">VerticalStylesheet</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./slides.vertical.css&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Template</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./slides.html&#x27;</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">Stylesheets</span> = {
  <span class="hljs-attr">horizontal</span>: <span class="hljs-title class_">HorizontalStylesheet</span>,
  <span class="hljs-attr">vertical</span>: <span class="hljs-title class_">VerticalStylesheet</span>,
  <span class="hljs-attr">github</span>: <span class="hljs-title class_">GithubDarkDimmed</span>,
};

<span class="hljs-keyword">export</span> { <span class="hljs-title class_">Stylesheets</span>, <span class="hljs-title class_">Template</span> };
</code></pre></p>
  </div>
  <div class="slide" id="_9">
    <hr>
    <h1 id="print-the-slideshow-to-the-output">Print the slideshow to the output</h1>
<h2 id="applications">Applications</h2>
<p>The print process runs in an application, the list of all applications is here:</p>
<ol>
<li>CodeSlide CLI</li>
</ol>
  </div>
  <div class="slide" id="_10">
    <hr>
    <p><h1 id="codeslide-cli">CodeSlide CLI</h1>
<p><a href="https://www.npmjs.com/package/codeslide-cli?activeTab=readme"><img src="https://img.shields.io/npm/v/codeslide-cli?color=%230647D4&label=npm&style=flat-square" alt=""></a></p>
<h2 id="usage-demo">Usage demo</h2>
<p><img src="https://raw.githubusercontent.com/AsherJingkongChen/codeslide/main/applications/cli/docs/assets/cli-usage.gif" alt=""></p>
<p>See also <a href="https://github.com/AsherJingkongChen/codeslide/tree/main/applications/cli/examples/"><strong>Example usages</strong></a></p>
<h2 id="installation">Installation</h2>
<ol>
<li>Prepare <code>Node.js</code> runtime and <code>NPM</code> package manager</li>
<li>Run <code>npm install -g codeslide-cli</code> on the command line</li>
</ol>
<h2 id="features">Features</h2>
<ul>
<li>It is an application of <a href="https://github.com/AsherJingkongChen/codeslide">CodeSlide</a></li>
<li>It allows you to easily make awesome slideshows for code snippets on command lines</li>
<li>It is a Node.js Command Line Interface (CLI)</li>
</ul>
<h2 id="documents">Documents</h2>
<ul>
<li>See <a href="https://github.com/AsherJingkongChen/codeslide/blob/main/applications/cli/docs/REFERENCE.md"><strong>Reference</strong></a> for more information</li>
</ul>
<h2 id="creator">Creator</h2>
<ul>
<li><a href="https://github.com/AsherJingkongChen">AsherJingkongChen</a></li>
</ul>
</p>
  </div>
  <div class="slide" id="_11">
    <hr>
    <h1 id="cli-entrypoint">CLI entrypoint</h1>
<p><pre><code class="language-ts hljs"><span class="hljs-keyword">import</span> { program } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;commander&#x27;</span>;
<span class="hljs-keyword">import</span> { readFileSync } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;fs&#x27;</span>;
<span class="hljs-keyword">import</span> { stdin, stdout } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;process&#x27;</span>;
<span class="hljs-keyword">import</span> { version, homepage, name } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../package.json&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CLIOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./options&#x27;</span>;
<span class="hljs-keyword">import</span> { parse } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./parse&#x27;</span>;
<span class="hljs-keyword">import</span> { render } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./print&#x27;</span>;

program
  .<span class="hljs-title function_">name</span>(name)
  .<span class="hljs-title function_">description</span>(<span class="hljs-string">`\
Example: <span class="hljs-subst">${name}</span> -m ./manifest.md -o ./output.html

Make a slideshow (HTML/PDF file) for code snippets
with a manifest (Markdown file).

Go to home page for more information: <span class="hljs-subst">${homepage}</span>
`</span> )
  .<span class="hljs-title function_">version</span>(version, <span class="hljs-string">&#x27;-v, --version&#x27;</span>, <span class="hljs-string">`\
Check the version number.`</span>
  )
  .<span class="hljs-title function_">helpOption</span>(<span class="hljs-string">&#x27;-h, --help&#x27;</span>, <span class="hljs-string">`\
Check all options and their description.`</span>
  )
  .<span class="hljs-title function_">option</span>(<span class="hljs-string">&#x27;-o, --output [local_path]&#x27;</span>, <span class="hljs-string">`\
The &quot;output file path&quot; of slideshow.
By default it writes the output to stdout.`</span>
  )
  .<span class="hljs-title function_">option</span>(<span class="hljs-string">&#x27;-m, --manifest [local_path]&#x27;</span>, <span class="hljs-string">`\
The &quot;manifest file path&quot; of slideshow.
By default it reads manifest from stdin.`</span>
  )
  .<span class="hljs-title function_">action</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">options</span>: <span class="hljs-title class_">CLIOptions</span>) =&gt; {
    <span class="hljs-keyword">let</span> { output, manifest } = <span class="hljs-title class_">CLIOptions</span>.<span class="hljs-title function_">parse</span>(options);
    <span class="hljs-keyword">if</span> (manifest) {
      manifest = <span class="hljs-title function_">readFileSync</span>(manifest, <span class="hljs-string">&#x27;utf8&#x27;</span>);
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">render</span>(output ?? stdout.<span class="hljs-property">fd</span>, <span class="hljs-keyword">await</span> <span class="hljs-title function_">parse</span>(manifest));
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">let</span> data = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">0</span>);
      stdin
        .<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;data&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">d</span>) =&gt;</span> {
          data = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">concat</span>([data, d]);
        })
        .<span class="hljs-title function_">once</span>(<span class="hljs-string">&#x27;end&#x27;</span>, <span class="hljs-keyword">async</span> () =&gt; {
          manifest = data.<span class="hljs-title function_">toString</span>(<span class="hljs-string">&#x27;utf8&#x27;</span>);
          <span class="hljs-keyword">await</span> <span class="hljs-title function_">render</span>(output ?? stdout.<span class="hljs-property">fd</span>, <span class="hljs-keyword">await</span> <span class="hljs-title function_">parse</span>(manifest));
        });
    }
  })
  .<span class="hljs-title function_">parseAsync</span>();
</code></pre></p>
  </div>
  <div class="slide" id="_12">
    <hr>
    <h1 id="validate-cli-options">Validate CLI options</h1>
<p><pre><code class="language-ts hljs"><span class="hljs-keyword">import</span> { z } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;zod&#x27;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">CLIOptions</span> = z.<span class="hljs-property">infer</span>&lt;<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">CLIOptions</span>&gt;;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">CLIOptions</span> = z.<span class="hljs-title function_">object</span>({
  <span class="hljs-attr">manifest</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">optional</span>(),
  <span class="hljs-attr">output</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">optional</span>(),
})
.<span class="hljs-title function_">strict</span>();
</code></pre></p>
  </div>
  <div class="slide" id="_13">
    <hr>
    <h1 id="build-a-renderer-form-and-render-with-it">Build a <strong>Renderer</strong> form and render with it</h1>
<p><pre><code class="language-ts hljs"><span class="hljs-keyword">import</span> hljs <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;highlight.js&#x27;</span>;
<span class="hljs-keyword">import</span> matter <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;gray-matter&#x27;</span>;
<span class="hljs-keyword">import</span> fetch <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;node-fetch&#x27;</span>;
<span class="hljs-keyword">import</span> { marked } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;marked&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Renderer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../../../src&#x27;</span>;
<span class="hljs-keyword">import</span> { readFileSync } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;fs&#x27;</span>;
<span class="hljs-keyword">import</span> { pathToFileURL } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;url&#x27;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> parse = <span class="hljs-keyword">async</span> (
  <span class="hljs-attr">manifest</span>: <span class="hljs-built_in">string</span>
): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Renderer</span>&gt; =&gt; {
  manifest = manifest.<span class="hljs-title function_">replace</span>(
    <span class="hljs-regexp">/^[\u200B\u200C\u200D\u200E\u200F\uFEFF]/</span>, <span class="hljs-string">&#x27;&#x27;</span>
  );
  <span class="hljs-keyword">const</span> { content, data } = <span class="hljs-title function_">matter</span>(manifest);
  <span class="hljs-keyword">if</span> (! data.<span class="hljs-property">codeslide</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(
      <span class="hljs-string">&#x27;Cannot find &quot;codeslide&quot; scalar in the Font Matter section&#x27;</span>
    );
  }

  <span class="hljs-keyword">const</span> renderer = <span class="hljs-title class_">Renderer</span>.<span class="hljs-title function_">parse</span>(data.<span class="hljs-property">codeslide</span>);

  renderer.<span class="hljs-property">slides</span> = <span class="hljs-keyword">await</span> <span class="hljs-title function_">_parse</span>(content)
    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">html</span>) =&gt;</span> html.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;&lt;hr&gt;&#x27;</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-title function_">trim</span>()));

  renderer.<span class="hljs-property">styles</span> = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(
    renderer.<span class="hljs-property">styles</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">path</span>) =&gt;</span> <span class="hljs-title function_">_getContent</span>(path))
  );

  <span class="hljs-comment">// Is raw stylesheet needed?</span>
  <span class="hljs-comment">// const stylesheet: string | undefined =</span>
  <span class="hljs-comment">//   data.codeslide.stylesheet;</span>
  <span class="hljs-comment">// if (stylesheet) {</span>
  <span class="hljs-comment">//   renderer.styles.push(stylesheet);</span>
  <span class="hljs-comment">// }</span>

  <span class="hljs-keyword">return</span> renderer;
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">_parse</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">manifest: <span class="hljs-built_in">string</span></span>) =&gt; (
  marked.<span class="hljs-title function_">parse</span>(manifest, {
    <span class="hljs-attr">async</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">walkTokens</span>: <span class="hljs-keyword">async</span> (<span class="hljs-attr">token</span>: marked.<span class="hljs-property">Token</span>) =&gt; {
      <span class="hljs-keyword">if</span> (token.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;link&#x27;</span>) {
        <span class="hljs-keyword">const</span> { href, text, raw } = token;
        <span class="hljs-keyword">if</span> (! text.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">&#x27;:&#x27;</span>)) {
          <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">const</span> [prefix, suffix] = &lt;[<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>]&gt;
          text.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;.&#x27;</span>);
        <span class="hljs-keyword">if</span> (prefix === <span class="hljs-string">&#x27;:slide&#x27;</span>) {
          token = <span class="hljs-title function_">_toHTMLToken</span>(token);
          token.<span class="hljs-property">raw</span> = raw;
          token.<span class="hljs-property">text</span> = <span class="hljs-keyword">await</span> <span class="hljs-title function_">_getContent</span>(href)
            .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">content</span>) =&gt;</span> <span class="hljs-title function_">_parse</span>(content));
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (prefix === <span class="hljs-string">&#x27;:code&#x27;</span>) {
          token = <span class="hljs-title function_">_toHTMLToken</span>(token);
          token.<span class="hljs-property">raw</span> = raw;
          <span class="hljs-keyword">const</span> code = <span class="hljs-keyword">await</span> <span class="hljs-title function_">_getContent</span>(href).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">content</span>) =&gt;</span> (
            hljs.<span class="hljs-title function_">highlight</span>(content, {
              <span class="hljs-attr">language</span>: suffix ?? <span class="hljs-string">&#x27;plaintext&#x27;</span>
            })
          ));
          token.<span class="hljs-property">text</span> = <span class="hljs-string">`\
&lt;pre&gt;&lt;code class=&quot;<span class="hljs-subst">${
  code.language ? <span class="hljs-string">`language-<span class="hljs-subst">${code.language}</span> `</span> : <span class="hljs-string">&#x27;&#x27;</span>
}</span>hljs&quot;&gt;<span class="hljs-subst">${
  code.value
}</span>&lt;/code&gt;&lt;/pre&gt;`</span>;
        }
      }
    },
  }
));

<span class="hljs-keyword">const</span> _toHTMLToken = (
  <span class="hljs-attr">token</span>: marked.<span class="hljs-property">Token</span>
): marked.<span class="hljs-property">Tokens</span>.<span class="hljs-property">HTML</span> =&gt; {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> p <span class="hljs-keyword">in</span> token) {
    <span class="hljs-keyword">if</span> (token.<span class="hljs-title function_">hasOwnProperty</span>(p)){
      <span class="hljs-keyword">delete</span> token[p <span class="hljs-keyword">as</span> keyof marked.<span class="hljs-property">Token</span>];
    }
  }
  token = token <span class="hljs-keyword">as</span> marked.<span class="hljs-property">Token</span>;
  token.<span class="hljs-property">type</span> = <span class="hljs-string">&#x27;html&#x27;</span>;
  token = token <span class="hljs-keyword">as</span> marked.<span class="hljs-property">Tokens</span>.<span class="hljs-property">HTML</span>;
  token.<span class="hljs-property">pre</span> = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">return</span> token;
};

<span class="hljs-keyword">const</span> _parseURL = (<span class="hljs-attr">path</span>: <span class="hljs-built_in">string</span>): <span class="hljs-function"><span class="hljs-params">URL</span> =&gt;</span> {
  <span class="hljs-keyword">try</span> { <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(path); }
  <span class="hljs-keyword">catch</span> (_) { <span class="hljs-keyword">return</span> <span class="hljs-title function_">pathToFileURL</span>(path); }
};

<span class="hljs-keyword">const</span> _getContent = <span class="hljs-keyword">async</span> (
  <span class="hljs-attr">path</span>: <span class="hljs-built_in">string</span> | <span class="hljs-variable constant_">URL</span>,
): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt; =&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> path === <span class="hljs-string">&#x27;string&#x27;</span>) {
    path = <span class="hljs-title function_">_parseURL</span>(path);
  }
  <span class="hljs-keyword">if</span> (path.<span class="hljs-property">protocol</span> === <span class="hljs-string">&#x27;file:&#x27;</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">readFileSync</span>(path).<span class="hljs-title function_">toString</span>();
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">fetch</span>(path).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (r) =&gt; {
      <span class="hljs-keyword">if</span> (r.<span class="hljs-property">ok</span>) { <span class="hljs-keyword">return</span> r.<span class="hljs-title function_">text</span>(); }
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-keyword">await</span> r.<span class="hljs-title function_">text</span>());
    });
  }
};
</code></pre></p>
  </div>
  <div class="slide" id="_14">
    <hr>
    <h1 id="print-the-slideshow-to-the-output-1">Print the slideshow to the output</h1>
<p><pre><code class="language-ts hljs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PathOrFileDescriptor</span>, writeFile } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;fs&#x27;</span>;
<span class="hljs-keyword">import</span> { launch } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;puppeteer&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Renderer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../../../src&#x27;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> render = <span class="hljs-keyword">async</span> (
  <span class="hljs-attr">output</span>: <span class="hljs-title class_">PathOrFileDescriptor</span>,
  <span class="hljs-attr">renderer</span>: <span class="hljs-title class_">Renderer</span>,
): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; =&gt; {
  <span class="hljs-keyword">if</span> (renderer.<span class="hljs-property">format</span> === <span class="hljs-string">&#x27;html&#x27;</span>) {
    <span class="hljs-title function_">writeFile</span>(output, <span class="hljs-title class_">Renderer</span>.<span class="hljs-title function_">render</span>(renderer), <span class="hljs-string">&#x27;utf8&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (err) { <span class="hljs-keyword">throw</span> err; }
    });
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (renderer.<span class="hljs-property">format</span> === <span class="hljs-string">&#x27;pdf&#x27;</span>) {
    <span class="hljs-keyword">const</span> browser = <span class="hljs-keyword">await</span> <span class="hljs-title function_">launch</span>();
    <span class="hljs-keyword">const</span> page = <span class="hljs-keyword">await</span> browser.<span class="hljs-title function_">newPage</span>();
    <span class="hljs-keyword">await</span> page.<span class="hljs-title function_">setContent</span>(<span class="hljs-title class_">Renderer</span>.<span class="hljs-title function_">render</span>(renderer));
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> page.<span class="hljs-title function_">pdf</span>({
      <span class="hljs-attr">printBackground</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">format</span>: renderer.<span class="hljs-property">pagesize</span>,
    });
    <span class="hljs-keyword">const</span> closeBrowser = browser.<span class="hljs-title function_">close</span>();
    <span class="hljs-title function_">writeFile</span>(output, result, <span class="hljs-string">&#x27;base64&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (err) { <span class="hljs-keyword">throw</span> err; }
    });
    <span class="hljs-keyword">await</span> closeBrowser;
  }
};
</code></pre></p>
  </div>
  <div class="slide" id="_15">
    <hr>
    <h1 id="thanks-for-your-watching">Thanks for your watching!</h1>
<p>See other CodeSlide CLI examples <a href="https://github.com/AsherJingkongChen/codeslide/tree/main/applications/cli/examples/">here</a></p>
<p>The installation guide <a href="https://github.com/AsherJingkongChen/codeslide/tree/main/applications/cli/docs/REFERENCE.md#installtion">here</a></p>
  </div>
  </div>
</body>
</html>
