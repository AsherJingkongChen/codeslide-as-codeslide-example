<!DOCTYPE HTML>
<html class="hljs">
<head>
  <meta
    name="viewport"
    charset="utf-8"
    content="width=device-width, initial-scale=1, user-scalable=no">
  <style>
/*! CodeSlide slides.horizontal.css */
html, body {
  margin: 0;
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  overflow: hidden;
  overscroll-behavior: none;
  scrollbar-width: none;
}
body::-webkit-scrollbar {
  display: none;
}
pre {
  margin: 0;
  white-space: pre-wrap;
  word-break: break-word;
}
#slides {
  display: flex;
  flex-direction: row;
  position: absolute; /* fix height on mobile */
  width: 100vw;
  height: 100vh;
  overflow-x: scroll;
  scroll-behavior: smooth;
  scroll-snap-type: x mandatory;
}
.slide {
  display: flex;
  flex-direction: column;
  min-width: 100vw;
  height: 100vh;
  overflow-y: scroll;
  scroll-snap-align: start;
  scroll-snap-stop: always;
  scrollbar-width: none;
}
.slide::-webkit-scrollbar {
  display: none;
}
.slide > .title {
  font-size: larger;
  font-weight: bolder;
}
@page {
  margin: 0;
  size: auto;
}
@media print {
  #slides {
    width: auto;
    height: auto;
  }
}

pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: GitHub Dark Dimmed
  Description: Dark dimmed theme as seen on github.com
  Author: github.com
  Maintainer: @Hirse
  Updated: 2021-05-15

  Colors taken from GitHub's CSS
*/.hljs{color:#adbac7;background:#22272e}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#f47067}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#dcbdfb}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#6cb6ff}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#96d0ff}.hljs-built_in,.hljs-symbol{color:#f69d50}.hljs-code,.hljs-comment,.hljs-formula{color:#768390}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#8ddb8c}.hljs-subst{color:#adbac7}.hljs-section{color:#316dca;font-weight:700}.hljs-bullet{color:#eac55f}.hljs-emphasis{color:#adbac7;font-style:italic}.hljs-strong{color:#adbac7;font-weight:700}.hljs-addition{color:#b4f1b4;background-color:#1b4721}.hljs-deletion{color:#ffd8d3;background-color:#78191b}
@font-face {
  font-family: 'Noto Sans Mono';
  font-style: normal;
  font-weight: 400;
  font-stretch: normal;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/notosansmono/v25/BngrUXNETWXI6LwhGYvaxZikqZqK6fBq6kPvUce2oAZcdthSBUsYck4-_FNJ49o.ttf) format('truetype');
}
@font-face {
  font-family: 'Noto Sans Mono';
  font-style: normal;
  font-weight: 700;
  font-stretch: normal;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/notosansmono/v25/BngrUXNETWXI6LwhGYvaxZikqZqK6fBq6kPvUce2oAZcdthSBUsYck4-_LRO49o.ttf) format('truetype');
}

code { font-family: Noto Sans Mono, ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace; }
#slides { font-size: 20px; }
#slides { font-weight: 400; }
  </style>
</head>
<body class="hljs">
  <div id="slides">
    <div class="slide" id="_0" hidden>
      <div class="title">
        <pre><code class="language-plaintext hljs">The Introduction of CodeSlide</code></pre>
      </div>
    </div>
    <div class="slide" id="_1" hidden>
      <div class="title">
        <pre><code class="language-plaintext hljs">README</code></pre>
      </div>
      <div class="code">
        <pre><code class="language-markdown"># CodeSlide
[![](https://img.shields.io/npm/v/codeslide-cli?color=%230647D4&amp;label=npm%3Acodeslide-cli&amp;style=flat-square)](https://www.npmjs.com/package/codeslide-cli?activeTab=readme)

## Features
- CodeSlide makes a slideshow for code snippets
- Its applications:
  - [CodeSlide CLI](./applications/cli/)

## Dependencies
- It uses [esbuild](https://github.com/evanw/esbuild) as module bundler
- It uses [Commander.js](https://github.com/tj/commander.js) as CLI framework
- It uses [Eta](https://github.com/eta-dev/eta) as HTML template engine
- It uses [Highlight.js](https://github.com/highlightjs/highlight.js) as syntax highlighter
- It uses [Node Fetch](https://github.com/node-fetch/node-fetch) as resource fetcher
- It uses [Puppeteer](https://github.com/puppeteer/puppeteer) as PDF printer
- It uses [TypeScript](https://www.typescriptlang.org/) as the main programming language
- It uses [Zod](https://github.com/colinhacks/zod) as JSON schema validator

## Documents
- See [**Reference**](./docs/REFERENCE.md) for more information

## Creator
- [AsherJingkongChen](https://github.com/AsherJingkongChen)</code><br></pre>
      </div>
    </div>
    <div class="slide" id="_2" hidden>
      <div class="title">
        <pre><code class="language-plaintext hljs">The essentials</code></pre>
      </div>
    </div>
    <div class="slide" id="_3" hidden>
      <div class="title">
        <pre><code class="language-plaintext hljs">Render the HTML template and CSS to a slideshow</code></pre>
      </div>
      <div class="code">
        <pre><code class="language-typescript">import HorizontalStylesheet from &#39;./slides.horizontal.css&#39;;
import VerticalStylesheet from &#39;./slides.vertical.css&#39;;
import Template from &#39;./slides.html&#39;;

const Stylesheet = {
  horizontal: HorizontalStylesheet,
  vertical: VerticalStylesheet,
};

export { Stylesheet, Template };
</code><br></pre>
      </div>
    </div>
    <div class="slide" id="_4" hidden>
      <div class="code">
        <pre><code class="language-typescript">import { z } from &#39;zod&#39;;
import { isFormat } from &#39;./format&#39;;
import { isLang } from &#39;./lang&#39;;
import { isLayout } from &#39;./layout&#39;;
import { isPagesize } from &#39;./pagesize&#39;;

export type Printer = z.infer&lt;typeof Printer&gt;;

export const Printer = z.object(
  {
    fontFamily: z
      .string()
      .default(&#39;&#39;)
      .transform((arg) =&gt; `\
${arg ? `${arg}, ` : &#39;&#39;}ui-monospace, SFMono-Regular, \
SF Mono, Menlo, Consolas, Liberation Mono, monospace`
      ),
    fontSize: z
      .string()
      .default(&#39;large&#39;),
    fontWeight: z
      .string()
      .default(&#39;normal&#39;),
    format: z
      .string()
      .refine(isFormat)
      .default(&#39;html&#39;),
    layout: z
      .string()
      .refine(isLayout)
      .default(&#39;horizontal&#39;),
    pagesize: z
      .string()
      .refine(isPagesize)
      .default(&#39;a4&#39;),
    slides: z
      .array(
        z.object({
          code: z
            .string()
            .default(&#39;&#39;),
          lang: z
            .string()
            .refine(isLang)
            .optional(),
          title: z
            .string()
            .default(&#39;&#39;),
        })
        .strict()
      )
      .default([]),
    styles: z
      .array(z.string())
      .default([])
      .transform((arg) =&gt; [
        &#39;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/&#39; +
        &#39;11.8.0/styles/github-dark-dimmed.min.css&#39;,
        ...arg,
      ]),
  })
  .transform((arg) =&gt; {
    if (
      arg.layout === &#39;horizontal&#39; &amp;&amp;
      arg.format === &#39;pdf&#39;
    ) {
      arg.layout = &#39;vertical&#39;;
    }
    return arg;
  });
</code><br></pre>
      </div>
    </div>
    <div class="slide" id="_5" hidden>
      <div class="code">
        <pre><code class="language-typescript">import { render as renderEta } from &#39;eta&#39;;
import { Stylesheet, Template } from &#39;./slides&#39;;
import { Printer } from &#39;./printer&#39;;

export const render = (printer: Printer): string =&gt; renderEta(
  Template,
  {
    layout: printer.layout,
    slides: printer.slides,
    style: `\
&lt;style&gt;
${
  [
    Stylesheet[printer.layout],
    ...printer.styles,
    `code { font-family: ${printer.fontFamily}; }`,
    `#slides { font-size: ${printer.fontSize}; }`,
    `#slides { font-weight: ${printer.fontWeight}; }`,
  ].join(&#39;\n&#39;)
}
  &lt;/style&gt;`,
  },
  {
    autoTrim: false,
    tags: [&#39;{%&#39;, &#39;%}&#39;],
  }
);

export * from &#39;./format&#39;;
export * from &#39;./lang&#39;;
export * from &#39;./layout&#39;;
export * from &#39;./pagesize&#39;;
export * from &#39;./printer&#39;;
</code><br></pre>
      </div>
    </div>
    <div class="slide" id="_6" hidden>
      <div class="title">
        <pre><code class="language-plaintext hljs">The HTML template</code></pre>
      </div>
      <div class="code">
        <pre><code class="language-xml">&lt;!DOCTYPE HTML&gt;
&lt;html class=&quot;hljs&quot;&gt;
&lt;head&gt;
  &lt;meta
    name=&quot;viewport&quot;
    charset=&quot;utf-8&quot;
    content=&quot;width=device-width, initial-scale=1, user-scalable=no&quot;&gt;
  {%~ it.style %}
&lt;/head&gt;
&lt;body class=&quot;hljs&quot;&gt;
  &lt;div id=&quot;slides&quot;&gt;
{%_ for (const [index, slide] of it.slides.entries()) { %}
    &lt;div class=&quot;slide&quot; id=&quot;_{%~ index %}&quot; hidden&gt;
  {%_ if (slide.title) { %}
      &lt;div class=&quot;title
    {%_ if (index !== 0 &amp;&amp; it.layout === &#39;vertical&#39;) { %}
        {%_ ~ &#39; bordered&#39; %}
    {%_ } _%}
      &quot;&gt;
        &lt;pre&gt;{%_ _%}
          &lt;code class=&quot;language-plaintext hljs&quot;&gt;
            {%_ = slide.title _%}
          &lt;/code&gt;{%_ _%}
        &lt;/pre&gt;
      &lt;/div&gt;
  {%_ } %}
  {%_ if (slide.code) { %}
      &lt;div class=&quot;code&quot;&gt;
        &lt;pre&gt;{%_ _%}
          &lt;code class=&quot;
    {%_ if (slide.lang) { %}
            {%_ ~ `language-${slide.lang}` %}
    {%_ } _%}
          &quot;&gt;
            {%_ = slide.code _%}
          &lt;/code&gt;&lt;br&gt;{%_ _%}
        &lt;/pre&gt;
      &lt;/div&gt;
  {%_ } %}
    &lt;/div&gt;
{%_ } %}
  &lt;/div&gt;
  &lt;script type=&quot;module&quot;&gt;
document.addEventListener(&#39;DOMContentLoaded&#39;, () =&gt; {
  hljs.highlightAll();
  for (const slide of document.getElementsByClassName(&#39;slide&#39;)) {
    slide.hidden = false;
  }
}, { once: true });

hljs.registerLanguage(&#39;armasm&#39;, armasm);
hljs.registerLanguage(&#39;c&#39;, c);
hljs.registerLanguage(&#39;clojure&#39;, clojure);
hljs.registerLanguage(&#39;cmake&#39;, cmake);
hljs.registerLanguage(&#39;coffeescript&#39;, coffeescript);
hljs.registerLanguage(&#39;cpp&#39;, cpp);
hljs.registerLanguage(&#39;csharp&#39;, csharp);
hljs.registerLanguage(&#39;css&#39;, css);
hljs.registerLanguage(&#39;dart&#39;, dart);
hljs.registerLanguage(&#39;diff&#39;, diff);
hljs.registerLanguage(&#39;elixir&#39;, elixir);
hljs.registerLanguage(&#39;erlang&#39;, erlang);
hljs.registerLanguage(&#39;go&#39;, go);
hljs.registerLanguage(&#39;graphql&#39;, graphql);
hljs.registerLanguage(&#39;groovy&#39;, groovy);
hljs.registerLanguage(&#39;haskell&#39;, haskell);
hljs.registerLanguage(&#39;ini&#39;, ini);
hljs.registerLanguage(&#39;java&#39;, java);
hljs.registerLanguage(&#39;javascript&#39;, javascript);
hljs.registerLanguage(&#39;json&#39;, json);
hljs.registerLanguage(&#39;julia&#39;, julia);
hljs.registerLanguage(&#39;kotlin&#39;, kotlin);
hljs.registerLanguage(&#39;less&#39;, less);
hljs.registerLanguage(&#39;lisp&#39;, lisp);
hljs.registerLanguage(&#39;lua&#39;, lua);
hljs.registerLanguage(&#39;makefile&#39;, makefile);
hljs.registerLanguage(&#39;markdown&#39;, markdown);
hljs.registerLanguage(&#39;objectivec&#39;, objectivec);
hljs.registerLanguage(&#39;perl&#39;, perl);
hljs.registerLanguage(&#39;php&#39;, php);
hljs.registerLanguage(&#39;plaintext&#39;, plaintext);
hljs.registerLanguage(&#39;python&#39;, python);
hljs.registerLanguage(&#39;r&#39;, r);
hljs.registerLanguage(&#39;ruby&#39;, ruby);
hljs.registerLanguage(&#39;rust&#39;, rust);
hljs.registerLanguage(&#39;scala&#39;, scala);
hljs.registerLanguage(&#39;scss&#39;, scss);
hljs.registerLanguage(&#39;shell&#39;, shell);
hljs.registerLanguage(&#39;sql&#39;, sql);
hljs.registerLanguage(&#39;swift&#39;, swift);
hljs.registerLanguage(&#39;typescript&#39;, typescript);
hljs.registerLanguage(&#39;vbnet&#39;, vbnet);
hljs.registerLanguage(&#39;xml&#39;, xml);
hljs.registerLanguage(&#39;yaml&#39;, yaml);

/* Import dependencies from CDN */
import hljs from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/core.min.js&#39;;
import armasm from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/armasm.min.js&#39;;
import c from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/c.min.js&#39;;
import clojure from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/clojure.min.js&#39;;
import cmake from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/cmake.min.js&#39;;
import coffeescript from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/coffeescript.min.js&#39;;
import cpp from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/cpp.min.js&#39;;
import csharp from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/csharp.min.js&#39;;
import css from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/css.min.js&#39;;
import dart from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/dart.min.js&#39;;
import diff from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/diff.min.js&#39;;
import elixir from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/elixir.min.js&#39;;
import erlang from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/erlang.min.js&#39;;
import go from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/go.min.js&#39;;
import graphql from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/graphql.min.js&#39;;
import groovy from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/groovy.min.js&#39;;
import haskell from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/haskell.min.js&#39;;
import ini from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/ini.min.js&#39;;
import java from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/java.min.js&#39;;
import javascript from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/javascript.min.js&#39;;
import json from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/json.min.js&#39;;
import julia from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/julia.min.js&#39;;
import kotlin from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/kotlin.min.js&#39;;
import less from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/less.min.js&#39;;
import lisp from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/lisp.min.js&#39;;
import lua from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/lua.min.js&#39;;
import makefile from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/makefile.min.js&#39;;
import markdown from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/markdown.min.js&#39;;
import objectivec from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/objectivec.min.js&#39;;
import perl from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/perl.min.js&#39;;
import php from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/php.min.js&#39;;
import plaintext from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/plaintext.min.js&#39;;
import python from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/python.min.js&#39;;
import r from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/r.min.js&#39;;
import ruby from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/ruby.min.js&#39;;
import rust from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/rust.min.js&#39;;
import scala from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/scala.min.js&#39;;
import scss from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/scss.min.js&#39;;
import shell from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/shell.min.js&#39;;
import sql from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/sql.min.js&#39;;
import swift from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/swift.min.js&#39;;
import typescript from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/typescript.min.js&#39;;
import vbnet from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/vbnet.min.js&#39;;
import xml from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/xml.min.js&#39;;
import yaml from &#39;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/yaml.min.js&#39;;
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code><br></pre>
      </div>
    </div>
    <div class="slide" id="_7" hidden>
      <div class="title">
        <pre><code class="language-plaintext hljs">The CSS</code></pre>
      </div>
      <div class="code">
        <pre><code class="language-css">/*! CodeSlide slides.horizontal.css */
body {
  margin: 0;
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  overflow: hidden;
  overscroll-behavior: none;
  scrollbar-width: none;
}
body::-webkit-scrollbar {
  display: none;
}
pre {
  margin: 0;
  white-space: pre-wrap;
  word-break: break-word;
}
#slides {
  display: flex;
  flex-direction: row;
  position: absolute; /* fix height on mobile */
  width: 100vw;
  height: 100vh;
  overflow-x: scroll;
  scroll-behavior: smooth;
  scroll-snap-type: x mandatory;
}
.slide {
  display: flex;
  flex-direction: column;
  min-width: 100vw;
  height: 100vh;
  overflow-y: scroll;
  scroll-snap-align: start;
  scroll-snap-stop: always;
  scrollbar-width: none;
}
.slide::-webkit-scrollbar {
  display: none;
}
.slide &gt; .title {
  font-size: larger;
  font-weight: bolder;
}
@page {
  margin: 0;
  size: auto;
}
@media print {
  #slides {
    width: auto;
    height: auto;
  }
}
</code><br></pre>
      </div>
    </div>
    <div class="slide" id="_8" hidden>
      <div class="title">
        <pre><code class="language-plaintext hljs">Let&#39;s see some applications!</code></pre>
      </div>
    </div>
    <div class="slide" id="_9" hidden>
      <div class="title">
        <pre><code class="language-plaintext hljs">CodeSlide CLI: A Node.js Command Line Interface</code></pre>
      </div>
      <div class="code">
        <pre><code class="language-typescript">import { program } from &#39;commander&#39;;
import { version, homepage, name } from &#39;../package.json&#39;;
import { run } from &#39;./run&#39;;

program
  .name(name)
  .description(`\
Example: ${name} -o ./output.html

Make a slideshow (HTML/PDF file) for code snippets
with CLI options

Go to home page for more information: ${homepage}
` )
  .version(version, &#39;-v, --version&#39;,
    &#39;Check the version number.&#39;
  )
  .helpOption(&#39;-h, --help&#39;,
    &#39;Check all options and their description.&#39;
  )
  .option(&#39;-o, --output [local_path]&#39;,
    &#39;The &quot;output file path&quot; of slideshow. &#39; +
    &#39;If not set, it writes the output to stdout.&#39;
  )
  .option(&#39;--font-family [string]&#39;,
    &#39;The font family of &quot;displayed texts&quot;. &#39; +
    &#39;Default is &quot;ui-monospace, SFMono-Regular, &#39; +
    &#39;SF Mono, Menlo, Consolas, Liberation Mono, monospace&quot;.&#39;
  )
  .option(&#39;--font-size [string]&#39;,
    &#39;The font size of &quot;displayed texts&quot;. &#39; +
    &#39;Default is &quot;large&quot;.&#39;
  )
  .option(&#39;--font-weight [string]&#39;,
    &#39;The font weight of &quot;displayed texts&quot;. &#39; +
    &#39;Default is &quot;normal&quot;.&#39;
  )
  .option(&#39;--format [html | pdf]&#39;,
    &#39;The &quot;output file format&quot; of slideshow. &#39; +
    &#39;Default is &quot;html&quot;.&#39;
  )
  .option(&#39;--layout [horizontal | vertical]&#39;,
    &#39;The &quot;layout&quot; of slideshow. &#39; +
    &#39;Default is &quot;horizontal&quot;.&#39;
  )
  .option(&#39;--pagesize [letter | legal | tabloid | ledger | a0 | a1 | a2 | a3 | a4 | a5 | a6]&#39;,
    &#39;The page size of slideshow &quot;in PDF format&quot;. &#39; +
    &#39;Default is &quot;a4&quot;.&#39;
  )
  .option(&#39;--slides [slide...]&#39;,
    &#39;The &quot;contents&quot; to show. &#39; +
    &#39;An array of slides, each slide is a pair of title and path (URL). &#39; +
    &#39;Example: --slides &quot;Intro&quot; &quot;./README.md&quot; &quot;Program&quot; &quot;./index.js&quot;; &#39; +
    &#39;There are 2 slides where the first is titled as &quot;Intro&quot; &#39; +
    &#39;and shows the content from &quot;./README.md&quot;.&#39;
  )
  .option(&#39;--styles [path...]&#39;,
    &#39;The &quot;display styles&quot; of slideshow. &#39; +
    &#39;An array of paths (URLs) of CSS files. &#39; +
    &#39;You may need this if: &#39; +
    &#39;1. To load custom font family &#39; +
    &#39;2. To load custom syntax highlighting theme &#39; +
    &#39;3. To change the background &#39;
  )
  .action(run)
  .parseAsync();
</code><br></pre>
      </div>
    </div>
    <div class="slide" id="_10" hidden>
      <div class="title">
        <pre><code class="language-plaintext hljs">CLI options validator</code></pre>
      </div>
      <div class="code">
        <pre><code class="language-typescript">import { z } from &#39;zod&#39;;

export type CLIOptions = z.infer&lt;typeof CLIOptions&gt;;

export const CLIOptions = z.object(
  {
    output: z.string().optional(),
    fontFamily: z.string().optional(),
    fontSize: z.string().optional(),
    fontWeight: z.string().optional(),
    format: z.string().optional(),
    layout: z.string().optional(),
    pagesize: z.string().optional(),
    slides: z.array(z.string()).optional(),
    styles: z.array(z.string()).optional(),
  })
  .strict()
  .superRefine((ref, ctx) =&gt; {
    if ((ref.slides?.length ?? 0) % 2 !== 0) {
      ctx.addIssue({
        code: z.ZodIssueCode.custom,
        message: &#39;The option --slides should has even number of arguments&#39;,
      });
    }
  });</code><br></pre>
      </div>
    </div>
    <div class="slide" id="_11" hidden>
      <div class="title">
        <pre><code class="language-plaintext hljs">Parse CLI options -&gt; Print to output</code></pre>
      </div>
      <div class="code">
        <pre><code class="language-typescript">import { Printer } from &#39;../../../src&#39;;
import { CLIOptions } from &#39;./options&#39;;
import { mayfail } from &#39;./tool&#39;;

export const parse = (
  options: CLIOptions,
): Printer =&gt; {
  options = mayfail(() =&gt; CLIOptions.parse(options));

  const slides: Printer[&#39;slides&#39;] = [];
  options.slides?.forEach((arg, index) =&gt; {
    if (index % 2 === 0) {
      slides.push({ title: arg, code: &#39;&#39; });
    } else {
      slides[slides.length - 1].code = arg;
    }
  });

  return mayfail(() =&gt; Printer.parse({
    ...options,
    slides,
  }));
};
</code><br></pre>
      </div>
    </div>
    <div class="slide" id="_12" hidden>
      <div class="code">
        <pre><code class="language-typescript">import { PathOrFileDescriptor, writeFileSync } from &#39;fs&#39;;
import { launch } from &#39;puppeteer&#39;;
import { render, Printer } from &#39;../../../src&#39;;
import { mayfailAsync } from &#39;./tool&#39;;

export const print = (
  output: PathOrFileDescriptor,
  printer: Printer,
): Promise&lt;void&gt; =&gt; mayfailAsync(async () =&gt; {
  if (printer.format === &#39;html&#39;) {
    writeFileSync(output, render(printer), &#39;utf8&#39;);
  } else if (printer.format === &#39;pdf&#39;) {
    const browser = await mayfailAsync(launch());
    const page = await mayfailAsync(browser.newPage());
    await mayfailAsync(page.setContent(render(printer)));
    const result = await mayfailAsync(
      page.pdf({
        printBackground: true,
        format: printer.pagesize, // is it redundant?
      }
    ));
    const closeBrowser = mayfailAsync(browser.close());
    writeFileSync(output, result, &#39;base64&#39;);
    await closeBrowser;
  }
});
</code><br></pre>
      </div>
    </div>
    <div class="slide" id="_13" hidden>
      <div class="code">
        <pre><code class="language-typescript">import { stdout } from &#39;process&#39;;
import { guessLangFromURL } from &#39;../../../src&#39;;
import { CLIOptions } from &#39;./options&#39;;
import { parse } from &#39;./parse&#39;;
import { print } from &#39;./print&#39;;
import { getContent, parseURL } from &#39;./tool&#39;;

export const run = async (
  options: CLIOptions,
): Promise&lt;void&gt; =&gt; {
  const printer = parse(options);

  printer.slides = await Promise.all(
    printer.slides.map(async (slide) =&gt; {
      if (slide.code) {
        const codeURL = parseURL(slide.code);
        return {
          code: await getContent(codeURL),
          lang: guessLangFromURL(codeURL),
          title: slide.title,
        };
      }
      return slide;
    })
  );

  printer.styles = await Promise.all(
    printer.styles.map((path) =&gt; getContent(path))
  );

  return print(options.output ?? stdout.fd, printer);

  // // Not paralleled
  // for (const slide of printer.slides) {
  //   if (slide.code) {
  //     const codeURL = parseURL(slide.code);
  //     slide.code = await getContent(codeURL);
  //     slide.lang = guessLangFromURL(codeURL);
  //   }
  // }
  // for (const [index, path] of printer.styles.entries()) {
  //   printer.styles[index] = await getContent(path);
  // }
};
</code><br></pre>
      </div>
    </div>
    <div class="slide" id="_14" hidden>
      <div class="title">
        <pre><code class="language-plaintext hljs">The End</code></pre>
      </div>
    </div>
  </div>
  <script type="module">
document.addEventListener('DOMContentLoaded', () => {
  hljs.highlightAll();
  for (const slide of document.getElementsByClassName('slide')) {
    slide.hidden = false;
  }
}, { once: true });

hljs.registerLanguage('armasm', armasm);
hljs.registerLanguage('c', c);
hljs.registerLanguage('clojure', clojure);
hljs.registerLanguage('cmake', cmake);
hljs.registerLanguage('coffeescript', coffeescript);
hljs.registerLanguage('cpp', cpp);
hljs.registerLanguage('csharp', csharp);
hljs.registerLanguage('css', css);
hljs.registerLanguage('dart', dart);
hljs.registerLanguage('diff', diff);
hljs.registerLanguage('elixir', elixir);
hljs.registerLanguage('erlang', erlang);
hljs.registerLanguage('go', go);
hljs.registerLanguage('graphql', graphql);
hljs.registerLanguage('groovy', groovy);
hljs.registerLanguage('haskell', haskell);
hljs.registerLanguage('ini', ini);
hljs.registerLanguage('java', java);
hljs.registerLanguage('javascript', javascript);
hljs.registerLanguage('json', json);
hljs.registerLanguage('julia', julia);
hljs.registerLanguage('kotlin', kotlin);
hljs.registerLanguage('less', less);
hljs.registerLanguage('lisp', lisp);
hljs.registerLanguage('lua', lua);
hljs.registerLanguage('makefile', makefile);
hljs.registerLanguage('markdown', markdown);
hljs.registerLanguage('objectivec', objectivec);
hljs.registerLanguage('perl', perl);
hljs.registerLanguage('php', php);
hljs.registerLanguage('plaintext', plaintext);
hljs.registerLanguage('python', python);
hljs.registerLanguage('r', r);
hljs.registerLanguage('ruby', ruby);
hljs.registerLanguage('rust', rust);
hljs.registerLanguage('scala', scala);
hljs.registerLanguage('scss', scss);
hljs.registerLanguage('shell', shell);
hljs.registerLanguage('sql', sql);
hljs.registerLanguage('swift', swift);
hljs.registerLanguage('typescript', typescript);
hljs.registerLanguage('vbnet', vbnet);
hljs.registerLanguage('xml', xml);
hljs.registerLanguage('yaml', yaml);

/* Import dependencies from CDN */
import hljs from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/core.min.js';
import armasm from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/armasm.min.js';
import c from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/c.min.js';
import clojure from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/clojure.min.js';
import cmake from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/cmake.min.js';
import coffeescript from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/coffeescript.min.js';
import cpp from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/cpp.min.js';
import csharp from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/csharp.min.js';
import css from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/css.min.js';
import dart from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/dart.min.js';
import diff from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/diff.min.js';
import elixir from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/elixir.min.js';
import erlang from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/erlang.min.js';
import go from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/go.min.js';
import graphql from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/graphql.min.js';
import groovy from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/groovy.min.js';
import haskell from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/haskell.min.js';
import ini from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/ini.min.js';
import java from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/java.min.js';
import javascript from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/javascript.min.js';
import json from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/json.min.js';
import julia from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/julia.min.js';
import kotlin from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/kotlin.min.js';
import less from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/less.min.js';
import lisp from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/lisp.min.js';
import lua from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/lua.min.js';
import makefile from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/makefile.min.js';
import markdown from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/markdown.min.js';
import objectivec from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/objectivec.min.js';
import perl from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/perl.min.js';
import php from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/php.min.js';
import plaintext from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/plaintext.min.js';
import python from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/python.min.js';
import r from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/r.min.js';
import ruby from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/ruby.min.js';
import rust from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/rust.min.js';
import scala from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/scala.min.js';
import scss from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/scss.min.js';
import shell from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/shell.min.js';
import sql from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/sql.min.js';
import swift from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/swift.min.js';
import typescript from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/typescript.min.js';
import vbnet from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/vbnet.min.js';
import xml from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/xml.min.js';
import yaml from 'https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/yaml.min.js';
  </script>
</body>
</html>
